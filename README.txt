My code is incomplete

I have build the class for multi-layer perceptron with number of hidden layers and size for each layer as variables . 
The optimization functions are also given as an option between gradient descent and gd with momentum.
The loss functions are also made as per the requirement.


PROBLEM IN MY CODE : Due to the variable size of layers and number of perceptrons , somewhere , one of the matrix dimension is not correct which is creating a problem in execution and I am unable to debug it even after spending many hours . Due to this and lack of time,  I haven't  done the prediction part. But i ensure you that whatever portion of code is written , is by me and I probably spent a lot of time on the understanding part.

P.S. : if possible , please write a solution to the above problem below.